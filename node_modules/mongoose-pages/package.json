{
  "name": "mongoose-pages",
  "version": "0.0.2",
  "description": "Developer-friendly pagination plugin for Mongoose ODM",
  "main": "lib/index.js",
  "scripts": {
    "test": "mocha test"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/hacksparrow/mongoose-pages.git"
  },
  "keywords": [
    "mongoose",
    "pagination",
    "mongodb",
    "database",
    "paginate"
  ],
  "author": {
    "name": "Hage Yaapa"
  },
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/hacksparrow/mongoose-pages/issues"
  },
  "homepage": "https://github.com/hacksparrow/mongoose-pages",
  "devDependencies": {
    "mocha": "^1.20.1",
    "mongoose": "^3.8.13"
  },
  "readme": "Mongoose Pages\n==============\n\nDeveloper-friendly pagination plugin for Mongoose ODM.\n\n## Installation\n\n```\n$ npm install mongoose-pages\n```\n\n## Usage\n\nMongoose Pages offers pagination via two different implementations - **skip** and **anchor**. Both the implementations add a new method named `findPaginated()` to the model, which works like the regular `find()` method, except it accepts optional pagination options.\n\nChose whichever works for your application, their details and differences are explained below.\n\n###skip\n\nWhen you work with skip, you will get to work with the familiar `docsPerPage` and `pageNumber` objects.\n\nThe result object will have the following structure.\n\n```\n{\n    documents: Array; list of documents\n    totalPages: Number; total number of pages, as per the `docsPerPage` value\n    prevPage: NUmber; the previous page number\n    nextPage: Number; the next page number\n}\n```\n\n`prevPage` will be `undefined` for the first page. `nextPage` will be `undefined` for the last page.\n\nHere is an example of using the the skip method for implementing pagination.\n\n```\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\nvar mongoosePages = require('mongoose-pages');\n\nvar UserSchema = new Schema({\n    username: String,\n    points: Number,\n    email: String\n})\n\nmongoosePages.skip(UserSchema); // makes the findPaginated() method available\n\nvar docsPerPage = 10;\nvar pageNumber = 1;\n\nvar User = mongoose.model('User', UserSchema);\nUser.findPaginated({}, function (err, result) {\n    if (err) throw err;\n    console.log(result);\n}, docsPerPage, pageNumber); // pagination options go here\n\n```\n\n**Pros**\n\n1. Familiar concept of `docsPerPage` and `pageNumber`.\n2. Can implemented paged navigation system.\n3. Can jump to any page.\n\n**Cons**\n\n1. Performance will degrade as the number of documents increase. This is a limitation is [MongoDB's skip](http://docs.mongodb.org/manual/reference/method/cursor.skip/).\n2. Not recommended for high traffic websites with large number of documents in collection.\n\n###anchor\n\nWith anchoring, you get to work with `docsPerPage`, but lose the concept of `pageNumber`; instead you work with an `anchorId`.\n\nAn anchor id is the document id which is used as a marker for making the query to MongoDB. Basically you tell Mongo, \"Give me `docsPerPage` items from `anchorId` onwards\".\n\nIf the anchor id is not passed, it is assumed to be making a request for the first page. You get the `nextAnchorId` value from the result of the first page, to request for the second page etc. The document with the `anchorId` is not included in the result.\n\n**NOTE**: For pagination via anchoring, you will need to use an autoincrementing `_id` value; the default implementation of `_id` works just fine. If you don't like the default implementation of `_id`, you will need to implement `_id` of your own, which numerically autoincrements.\n\nThe result object will have the following structure.\n\n```\n{\n    documents: Array; list of documents\n    totalPages: Number; total page count\n    prevAnchorId: String; ObjectId which was used as the anchor id in the last request\n    nextAnchorId: String; ObjectId which should be used as the anchor id in the next request\n}\n```\n\n`prevAnchorId` will be `undefined` for the first page. `nextAnchorId` will be `undefined` for the last page.\n\nHere is an example of using the the anchor method for implementing pagination.\n\n```\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\nvar mongoosePages = require('mongoose-pages');\n\nvar UserSchema = new Schema({\n    username: String,\n    points: Number,\n    email: String\n})\n\nmongoosePages.anchor(UserSchema); // makes the findPaginated() method available\n\nvar docsPerPage = 10;\nvar anchorId = '53c797a2043db36f2b673cd1';\n\nvar User = mongoose.model('User', UserSchema);\nUser.findPaginated({}, function (err, result) {\n    if (err) throw err;\n    console.log(result);\n}, docsPerPage, anchorId); // pagination options go here\n```\n\nIf you want to request the first page, just omit the `anchorId` parameter.\n\n```\nUser.findPaginated({}, function (err, result) {\n    if (err) throw err;\n    console.log(result);\n}, docsPerPage);\n```\n\n**Pros**\n\n1. Performance is not affected with increasing number of documents in the collection.\n2. Recommended for high traffic websites.\n3. Navigation is previou-next based.\n\n**Cons**\n\n1. Page navigation is sequential.\n2. Pages cannot be referenced via page numbers.\n3. Cannot jump to pages. However, it can jump to anchor points, once you have the reference.\n\n\n## License\n\nCopyright (c) 2014 Hage Yaapa &lt;captain@hacksparrow.com&gt;\n\nPermission to use, copy, modify, and/or distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n",
  "readmeFilename": "README.md",
  "_id": "mongoose-pages@0.0.2",
  "_shasum": "3ec5af3b95fe68f327e52c55dafbfa6b680956ab",
  "_from": "mongoose-pages@",
  "_resolved": "https://registry.npmjs.org/mongoose-pages/-/mongoose-pages-0.0.2.tgz"
}
